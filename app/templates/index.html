<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <title>اربعین یار</title>
    <!-- Favicon-->
    <link rel="icon" href="../static/css/images/favicon.png" type="image/x-icon">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700&subset=latin,cyrillic-ext" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" type="text/css">

    <!-- Bootstrap Core Css -->
    <link href="../static/css/bootstrap.css" rel="stylesheet">
    
    <!-- Bootstrap RTL Css -->
    <link href="../static/css/bootstrap-rtl.min.css" rel="stylesheet">

    <!-- Waves Effect Css -->
    <link href="../static/css/waves.css" rel="stylesheet" />

    <!-- Animation Css -->
    <link href="../static/css/animate.css" rel="stylesheet" />

    <!-- Light Gallery Plugin Css -->
    <link href="../static/css/lightgallery.css" rel="stylesheet">

    <!-- Main JQuery DataTable Css -->
    <link rel="stylesheet" type="text/css" href="../static/css/jquery.dataTables.css" rel="stylesheet">

    <!-- Morris Chart Css-->
    <link href="../static/css/morris.css" rel="stylesheet" />

    <!-- Custom Css -->
    <link href="../static/css/style.css" rel="stylesheet">

    <!-- Custorm RTL Css -->
    <link href="../static/css/style-rtl.css" rel="stylesheet">

    <!-- Themes -->
    <link href="../static/css/all-themes.css" rel="stylesheet" />

    <!-- Leaflet -->
    <link rel="stylesheet" href="../static/css/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />

    <!-- My Css -->
    <link href="../static/css/app.css" rel="stylesheet">

</head>

<body class="theme-teal">    

    <div id="app">

        
        <!-- Page Loader -->
        <div class="page-loader-wrapper">
            <div class="loader">
                <div class="preloader">
                    <div class="spinner-layer pl-red">
                        <div class="circle-clipper left">
                            <div class="circle"></div>
                        </div>
                        <div class="circle-clipper right">
                            <div class="circle"></div>
                        </div>
                    </div>
                </div>
                <p>لطفا صبر کنید...</p>
            </div>
        </div>
        <!-- #END# Page Loader -->


        <!-- Signin panel -->
        <div v-if="panel == 'sign-in'" class="login-page">
            <span class="login-box">
                <div class="logo">
                    <a style="font-size: 25px;">اربعین یار</a>
                </div>
                <div class="card">
                    <div class="body">
                        <form id="sign_in" method="POST">
                            <div class="msg">وارد حساب خود شوید</div>
                            <div class="input-group">
                                <span class="input-group-addon">
                                    <i class="material-icons">person</i>
                                </span>
                                <div class="form-line">
                                    <input v-model="username" type="text" class="form-control" name="username" placeholder="نام کاربری" required autofocus>
                                </div>
                            </div>
                            <div class="input-group">
                                <span class="input-group-addon">
                                    <i class="material-icons">lock</i>
                                </span>
                                <div class="form-line">
                                    <input v-model="password" type="password" class="form-control" name="password" placeholder="رمز عبور" required>
                                </div>
                            </div>
                            <button @click.prevent="signinManager" class="btn btn-block btn-lg bg-pink waves-effect" type="submit">ورود</button>

                            <div class="m-t-25 m-b--5 align-center">
                                <button @click.prevent="change_panel('sign-up',null)"><a>ایجاد حساب کاربری</a></button>
                            </div>
                        </form>
                    </div>
                </div>
            </span>
        </div>
        <!-- # Signin panel -->


        <!-- Signup panel -->
        <div v-if="panel == 'sign-up'" class="signup-page">
            <span class="signup-box">
                <div class="logo">
                    <a style="font-size: 25px;">اربعین یار</a>
                </div>
                <div class="card">
                    <div class="body">
                        <form id="sign_up" method="POST">
                            <div class="msg">برای خود یک حساب بسازید</div>
                            <div class="input-group">
                                <span class="input-group-addon">
                                    <i class="material-icons">account_circle</i>
                                </span>
                                <div class="form-line">
                                    <input v-model="fullname" type="text" class="form-control" name="namesurname" placeholder="نام و نام خانوادگی" required autofocus>
                                </div>
                            </div>
                            <div class="input-group">
                                <span class="input-group-addon">
                                    <i class="material-icons">person</i>
                                </span>
                                <div class="form-line">
                                    <input v-model="username" type="username" class="form-control" name="username" placeholder="نام کاربری" required>
                                </div>
                            </div>
                            <div class="input-group">
                                <span class="input-group-addon">
                                    <i class="material-icons">lock</i>
                                </span>
                                <div class="form-line">
                                    <input v-model="password" type="password" class="form-control" name="password" minlength="6" placeholder="رمز عبور" required>
                                </div>
                            </div>

                            <button @click.prevent="signupManager" class="btn btn-block btn-lg bg-pink waves-effect" type="submit"> ثبت نام</button>

                            <div class="m-t-25 m-b--5 align-center">
                                <button @click.prevent="change_panel('sign-in',null)"><a>ورود به حساب کاربری</a></button>
                            </div>
                        </form>
                    </div>
                </div>
            </span>
        </div>
        <!-- Signup panel -->

        
        <!-- manager panel -->
        <div v-show="panel == 'manager'">

            <!-- Search Bar -->
            <div class="search-bar">
                <div @click.prevent="onClick_searchBarAdvs()" class="search-icon">
                    <i class="material-icons">search</i>
                </div>
                <input @keyup.esc="showSearchBar(false)" @keyup.enter="onClick_searchBarAdvs()" v-model="search_bar_val" type="text" placeholder="جستجو بر اساس نام و نام کاربری ...">
                <div @click.prevent="showSearchBar(false)" class="close-search">
                    <i class="material-icons">close</i>
                </div>
            </div>
            <!-- #END# Search Bar -->

            <!-- Top Bar -->
            <nav class="navbar">
                <div class="container-fluid">
                    <div class="navbar-header">
                        <b> <a class="navbar-brand" href="#">اربعین یار</a> </b>
                    </div>
                    <div class="collapse navbar-collapse" id="navbar-collapse">
                        <ul class="nav navbar-nav navbar-left">
                            <!-- Call Search -->
                            <li v-if="selected_karavan_uuid != '' && manager_panel != 'user-all-locations' && 
                                    show_all_users_locations_on_map == false && show_all_users_souvenir_album != true && 
                                    manager_panel != 'add-user-to-karavan' && manager_panel != 'edit-user-info' 
                                    && manager_panel != 'manager-dashboard'">
                                <a @click.prevent="showSearchBar(true)" href="#">
                                    <i class="material-icons">search</i>
                                </a>
                            </li>
                            <!-- #END# Call Search -->
                        </ul>
                    </div>
                </div>
            </nav>
            <!-- #Top Bar -->
            
            <!-- Right Sidebar -->
            <section>
                <aside id="leftsidebar" class="sidebar">
                    <!-- User Info -->
                    <div class="user-info">
                        <div class="image">
                            <img src="../static/images/user.png" width="48" height="48" alt="User" />
                        </div>
                        <div class="info-container">
                            <h5 class="name">${ static_fullname }$</h5>
                        </div>
                    </div>
                    <!-- #User Info -->
                    <!-- Menu -->
                    <div class="menu">
                        <ul class="list">
                            <li class="header">ناوبری اصلی</li>
                            <li :class="{ active: isActivePanel('manager-dashboard') }" style="border-bottom:inset;">
                                <a @click.prevent="getKaravanGeneralInfo" href="#">
                                    <i class="material-icons">home</i>
                                    <span>صفحه اصلی</span>
                                </a>
                            </li>
                            <li :class="{ active: isActivePanel('show-all-users-info') }" style="border-bottom:inset;">
                                <a @click.prevent="showAllUsersInfo(1)" href="#">
                                    <i class="material-icons">list_alt</i>
                                    <span>اطلاعات اعضای کاروان</span>
                                </a>
                            </li>
                            <li style="border-bottom:inset;">
                                <a @click.prevent="addKaravan" href="#">
                                    <i class="material-icons">groups_3</i>
                                    <span>افزودن کاروان</span>
                                </a>
                            </li>
                            <li :class="{ active: isActivePanel('add-user-to-karavan') }" style="border-bottom:inset;">
                                <a @click.prevent="addUserToKaravan" href="#">
                                    <i class="material-icons">person_add</i>
                                    <span>افزودن عضو به کاروان</span>
                                </a>
                            </li>
                            <li :class="{ active: isActivePanel('souvenir-photos') }" style="border-bottom:inset;">
                                <a @click.prevent="getSouvenirPhotos(1)" href="#">
                                    <i class="material-icons">photo_library</i>
                                    <span>عکس های یادگاری</span>
                                </a>
                            </li>
                            <li :class="{ active: isActivePanel('registered-locations') }" style="border-bottom:inset;">
                                <a @click.prevent="getRegisteredLocations(1)" href="#">
                                    <i class="material-icons">person_pin_circle</i>
                                    <span>موقعیت های مکانی</span>
                                </a>
                            </li>
                            <div style="padding-top:8px"></div>
                            <div v-if="show_location == 'true'" id="map" class="small-map"></div>

                        </ul>
                    </div>
                    <!-- #Menu -->
                </aside>
            </section>
            <!-- #END# Right Sidebar -->

            <!-- Manager dashboard -->
            <section v-if="manager_panel == 'manager-dashboard'" class="content">
                <div class="container-fluid">
                    <!-- Basic Examples -->
                    <div class="row clearfix">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                            <div class="card">
                                <div class="header">
                                    </br>
                                    <div class="col-sm-3">
                                        <label for="category">کاروان مورد نظر را انتخاب کنید</label>
                                        <select class="form-control" v-model="selected_karavan_uuid" @change="getKaravanGeneralInfo">
                                            <option value="">انتخاب کاروان</option>
                                            <option v-for="karavan in manager_karavans_info" :value=karavan[0] >${karavan[1]}$</option>
                                        </select>
                                    </div>
                                    </br>
                                    </br>
                                    </br>
                                </div>
                                <div v-show="show_karavan_info == true" class="body" style="height: 600px;">
                                    <div class="col-md-1"></div>
                                    
                                    <div class="col-md-4 info-box bg-green hover-zoom-effect">
                                        <div class="icon">
                                            <i class="material-icons">photo_library</i>
                                        </div>
                                        <div class="content">
                                            <div class="text">تعداد عکس های یادگاری کاروان</div>
                                            <div class="number count-to">${ count_karavan_souvenir_photos }$</div>
                                        </div>
                                    </div>
                                    
                                    <div class="col-md-2"></div>

                                    <div class="col-md-4 info-box bg-orange hover-zoom-effect">
                                        <div class="icon">
                                            <i class="material-icons">location_on</i>
                                        </div>
                                        <div class="content">
                                            <div class="text">تعداد موقعیت های مکانی کاروان</div>
                                            <div class="number count-to">${ count_karavan_locations }$</div>
                                        </div>
                                    </div>

                                    <div class="col-md-1"></div>

                                    <div class="col-md-12">
                                        <div id="donut_chart" class="graph"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- #END# Basic Examples -->
                </div>

            </section>
            <!-- #END# Manager dashboard -->


            <!-- Show all users info -->
            <section v-if="manager_panel == 'show-all-users-info'" class="content">
                <div class="container-fluid">
                    <!-- Basic Examples -->
                    <div class="row clearfix">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                            <div class="card">
                                <div class="header">
                                    <h3>
                                        اطلاعات اعضا 
                                    </h3>
                                </div>
                                <div class="body">

                                    <div class= "col-md-4">
                                        <i class="material-icons" style="vertical-align: middle;">person_off</i> : مدیر کاروان این حساب را غیرفعال کرده است
                                    </div>
                                    <div class= "col-md-3">
                                        <i class="material-icons" style="vertical-align: middle;">done</i> : حساب فعال است
                                    </div>
                                    <div class= "col-md-4">
                                        <i class="material-icons" style="vertical-align: middle;">close</i>
                                        <span>: حساب تا به حال فعال نشده است</span>
                                    </div>

                                    <div class="table-responsive">
                                        <table id="users_info_table" class="table table-bordered table-striped table-hover js-basic-example dataTable" style="width:100%">
                                            <thead>
                                                <tr>
                                                    <th>نام</th>
                                                    <th>نام کاربری</th>
                                                    <th>موقعیت های مکانی</th>
                                                    <th>وضعیت حساب</th>
                                                    <th>زمان فعال شدن حساب</th>
                                                    <th>آخرین فعالیت</th>
                                                    <th>ویرایش اطلاعات</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr v-for="user in users_info">
                                                    <td>${ user[2] }$</td>
                                                    <td>${ user[3] }$</td>
                                                    <td> <a @click.prevent="showUserAllLocations(user[0],false)" target="_blank" href="#" >مشاهده</a> </td>

                                                    <td v-if="user[5]['status'] == 'true'">
                                                        <div class="switch">
                                                            <label>
                                                                <i class="material-icons">done</i>
                                                                <input @change="changeUserAccountStatus(user[0],'disable')" type="checkbox" checked>
                                                                <span class="lever" style="margin-top: -11px;"></span>
                                                                <i class="material-icons">person_off</i>
                                                            </label>
                                                        </div>
                                                    </td>
                                                    <td v-else-if="user[5]['status'] == 'false'">
                                                        <div class="switch">
                                                            <label>
                                                                <i class="material-icons">done</i>
                                                                <input type="checkbox" disabled>
                                                                <span style="background-color: #8b969f; margin-top: -11px;" class="lever"></span>
                                                                <i class="material-icons">close</i>
                                                            </label>
                                                        </div>
                                                    </td>
                                                    <td v-else>
                                                        <div class="switch">
                                                            <label>
                                                                <i class="material-icons">done</i>
                                                                <input @change="changeUserAccountStatus(user[0],'true')" type="checkbox">
                                                                <span class="lever" style="margin-top: -11px;"></span>
                                                                <i class="material-icons">person_off</i>
                                                            </label>
                                                        </div>
                                                    </td>


                                                    <td v-if="user[5]['status'] != 'false'">${ user[5]['time'] }$ | ${ user[5]['date'] }$</td>
                                                    <td v-else>-</td>

                                                    <td v-if="user[6] == null">بدون فعالیت</td>
                                                    <td v-else>${ user[6]['time'] }$ | ${ user[6]['date'] }$</td>

                                                    <td><a @click.prevent="edit_user_info_panel(user[0],user[2])" href="#"><i class="material-icons">mode_edit</i></a></td>

                                                </tr>
                                            </tbody>
                                        </table>
                                        </br>
                                        </br>
                                        </br>
                                    </div>
                                    <div v-if="selected_karavan_uuid != ''" class="pagination">
                                        <a v-for="(page_num,index) in pages"
                                            :key="index"
                                            @click.prevent="showAllUsersInfo(index + 1)"
                                            :class="{ active: isActivePage(index + 1) }" 
                                            href="#">${ page_num }$</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- #END# Basic Examples -->
                </div>
            </section>
            <!-- #END# show all users info -->



            <!-- Edit user info -->
            <section v-show="manager_panel == 'edit-user-info'" class="content">
                <div class="container-fluid">
                    <div class="row clearfix">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                            <div class="card">

                                <div class="body">

                                    <h3>تغییر اطلاعات ${current_user_fullname}$ </h3>
                                    </br>
                                    <div class="alert" style="background-color: #006666;">
                                        <strong>اگر نمی خواهید همه ی اطلاعات را تغییر دهید آن ها را خالی رها کنید</strong>
                                    </div>

                                    <div class="clearfix">
                                        <div class="input-group input-group-lg">
                                            <span class="input-group-addon">
                                                <i class="material-icons">person</i>
                                            </span>
                                            <div class="form-line">
                                                <input v-model="fullname" type="text" class="form-control" placeholder="نام و نام خانوادگی جدید">
                                            </div>
                                        </div>
                                        <div class="input-group input-group-lg">
                                            <span class="input-group-addon">
                                                <i class="material-icons">account_circle</i>
                                            </span>
                                            <div class="form-line">
                                                <input v-model="username" type="text" class="form-control" placeholder="نام کاربری جدید">
                                            </div>
                                        </div>
                                        <div class="input-group input-group-lg">
                                            <span class="input-group-addon">
                                                <i class="material-icons">password</i>
                                            </span>
                                            <div class="form-line">
                                                <input v-model="password" type="password" class="form-control" placeholder="رمز عبور جدید">
                                            </div>
                                        </div>

                                        <button @click.prevent="editUserInfo()" style="padding:5px 45px;" type="button" class="btn btn-success waves-effect">اعمال تغییرات</button>
                                        <button @click.prevent="change_panel('manager','show-all-users-info')" style="padding:5px 40px; margin-right:20px;" type="button" class="btn btn-danger waves-effect">بازگشت</button>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- #END# Edit user info -->


            <!-- Manager show souvenir photos -->
            <section v-show="manager_panel == 'souvenir-photos'" class="content">
                <div class="container-fluid">
                    <!-- Basic Examples -->
                    <div class="row clearfix">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                            <div class="card">
                                
                                <div v-if="manager_panel == 'souvenir-photos'" class="header">
                                    <h3>
                                        عکس های یادگاری
                                    </h3>
                                    <div class="col-sm-6"></div>
                                    <div class="col-sm-3">
                                        <label for="category">فیلتر رویداد</label>
                                        <select class="form-control" v-model="selected_event" @change="getSouvenirPhotos(1)">
                                            <option value="all">همه</option>
                                            <option value="arbaeen">اربعین</option>
                                            <option value="moharram">محرم</option>
                                            <option value="fetr">فطر</option>
                                            <option value="ghadir">غدیر</option>
                                            <option value="other">سایر رویدادها</option>
                                        </select>
                                    </div>
                                    <div class="col-sm-3">
                                        <label for="category">فیلتر زمان</label>
                                        <select class="form-control" v-model="selected_time" @change="getSouvenirPhotos(1)">
                                            <option value="all">همه</option>
                                            <option value="today">امروز</option>
                                            <option value="week">این هفته</option>
                                            <option value="month">این ماه</option>
                                            <option value="year">امسال</option>
                                        </select>
                                        </select>
                                    </div>

                                    <!-- Switch Button -->
                                    <div class="switch" style="padding-top:20px;">
                                        <label>
                                            <i class="material-icons">view_list</i>
                                            <input @change="changePanelForAllUsersSouvenirPhotos" type="checkbox" checked>
                                            <span style="margin-top:-15px" class="lever"></span>
                                            <i class="material-icons">photo_library</i>
                                        </label>
                                    </div>
                                    <!--#END# Switch Button -->
                                </div>

                                <div class="body">
                                    <div v-show="show_all_users_souvenir_album == false" class="table-responsive">
                                        <table id="users_info_table" class="table table-bordered table-striped table-hover js-basic-example dataTable">
                                            <thead>
                                                <tr>
                                                    <th>نام</th>
                                                    <th>نام کاربری</th>
                                                    <th>تاریخ</th>
                                                    <th>زمان</th>
                                                    <th>آدرس موقعیت مکانی عکس</th>
                                                    <th>رویداد</th>
                                                    <th>نام سرویس</th>
                                                    <th>عکس دریافتی</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr v-for="photo in souvenir_photos">
                                                    <td>${ photo[0] }$</td>
                                                    <td>${ photo[1] }$</td>
                                                    <td>${ photo[3]['date'] }$</td>
                                                    <td>${ photo[3]['time'] }$</td>
                                                    <td v-if="photo[4]['address'] == 'empty'">موقعیت مکانی ثبت نشده است</td>
                                                    <td v-else>${ photo[4]['address']['display_name'] }$</td>
                                                    <td>${ photo[4]['event'] }$</td>
                                                    <td>${ photo[5] }$</td>
                                                    <td> <a :href="photo[4]['path']" target="_blank">نمایش</a> </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        </br>
                                        </br>
                                        </br>
                                    </div>


                                    <!-- show all users souvenir album -->
                                    <div v-show="show_all_users_souvenir_album == true" id="aniimated-thumbnials" class="list-unstyled row clearfix">

                                        <div v-for="photo in souvenir_photos" class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
                                            
                                            <a class="container-album" :href="photo[4]['path']" >
                                                <img class="img-responsive thumbnail album-img-fix-size image-album" :src="photo[4]['path']">
                                            </a>

                                            <div class="middle-album">
                                                <div class="text-album">نام: ${ photo[0] }$ </div>
                                                <div class="text-album">نام کاربری: ${ photo[1] }$</div>
                                                <div class="text-album">تاریخ : ${ photo[3]['date'] }$</div>
                                                <div class="text-album">زمان : ${ photo[3]['time'] }$</div>
                                            </div>

                                        </div>

                                    </div>
                                <!--#END# show all users souvenir album -->

                                    <div class="pagination">
                                        <a v-for="(page_num,index) in pages"
                                            :key="index"
                                            @click.prevent="getSouvenirPhotos(index + 1)"
                                            :class="{ active: isActivePage(index + 1) }" 
                                            href="#">${ page_num }$</a>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>


                </div>
            </section>
            <!-- #END# Manager show souvenir photos -->

            <!-- Manager show all users locations -->
            <section v-if="manager_panel == 'registered-locations'" class="content">
                <div class="container-fluid">
                    <!-- Basic Examples -->
                    <div class="row clearfix">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                            <div class="card">
                                
                                <div class="header">
                                    <h3>
                                        موقعیت های مکانی ثبت شده
                                    </h3>

                                    <div class="col-sm-9"></div>
                                    <div class="col-sm-3">
                                        <label for="category">فیلتر زمان</label>
                                        <select class="form-control" v-model="selected_time" @change="getRegisteredLocations(1)">
                                            <option value="all">همه</option>
                                            <option value="today">امروز</option>
                                            <option value="week">این هفته</option>
                                            <option value="month">این ماه</option>
                                            <option value="year">امسال</option>
                                        </select>
                                    </div>

                                    <!-- Switch Button -->
                                    <div class="switch" style="padding-top:20px;">
                                        <label @change="changePanelForAllUsersLocations">
                                            <i class="material-icons">view_list</i>
                                            <input type="checkbox" checked>
                                            <span style="margin-top:-15px" class="lever"></span>
                                            <i class="material-icons">location_on</i>
                                        </label>
                                    </div>
                                    <!--#END# Switch Button -->

                                </div>

                                <div class="body">
                                    <div v-if="show_all_users_locations_on_map == false" class="table-responsive">
                                        
                                        <table id="users_info_table" class="table table-bordered table-striped table-hover js-basic-example dataTable">
                                            <thead>
                                                <tr >
                                                    <th>نام</th>
                                                    <th>نام کاربری</th>
                                                    <th>تاریخ</th>
                                                    <th>زمان</th>
                                                    <th>آدرس</th>
                                                    <th>نام سرویس</th>
                                                    <th>نمایش روی نقشه</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr v-for="location in registered_locations">
                                                    <td>${ location[0] }$</td>
                                                    <td>${ location[1] }$</td>
                                                    <td>${ location[3]['date'] }$</td>
                                                    <td>${ location[3]['time'] }$</td>
                                                    <td>${ location[4]['display_name'] }$</td>
                                                    <td>${ location[5] }$</td>
                                                    <td> <a @click.prevent="showLocation(location[4]['lon'], location[4]['lat'])" href="#">
                                                        <span v-if="show_location == 'true'" >بستن</span>
                                                        <span v-else >نمایش</span>
                                                        </a>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        </br>
                                        </br>
                                        </br>
                                    </div>

                                    <div v-if="show_all_users_locations_on_map == false" class="pagination">
                                        <a v-for="(page_num,index) in pages"
                                            :key="index"
                                            @click.prevent="getRegisteredLocations(index + 1)"
                                            :class="{ active: isActivePage(index + 1) }"
                                            href="#">${ page_num }$</a>
                                    </div>
                                    
                                    <!-- Show all users location on map -->
                                    <div v-if="show_all_users_locations_on_map == true">
                                        <div class="alert" style="background-color: #006666">
                                            <strong>موقعیت مکانی های هر کاربر با یک رنگ مشخص شده است</strong>
                                        </div>
                                        <div id="all_users_locs_on_map" class="map"></div>
                                    </div>
                                
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- #END# Basic Examples -->
                </div>
            </section>
            <!-- #END# Manager show all users locations -->

            <!-- Manager show user all locations -->
            <section v-if="manager_panel == 'user-all-locations'" class="content">
                <div class="container-fluid">
                    <!-- Basic Examples -->
                    <div class="row clearfix">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                            <div class="card">
                                <div class="header">
                                    <h4 style="text-align:center;">موقعیت های مکانی ثبت شده ${ userAllLocations[0][4] }$</h4>
                                    <div class="col-sm-8" style="margin-top:22px;">
                                        <div class="icon-and-text-button-demo">
                                            <button @click.prevent="change_panel('manager','show-all-users-info')" type="button" class="btn waves-effect" style="width:150px; height:35px; color:white; background-color: #66b2b2;">
                                                <span>بازگشت</span>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="col-sm-3">
                                        <label for="category">فیلتر زمان</label>
                                        <select class="form-control" v-model="user_locations_selected_time" @change="showUserAllLocations(userAllLocations[0][6],true)">
                                            <option value="all">همه</option>
                                            <option value="today">امروز</option>
                                            <option value="week">این هفته</option>
                                            <option value="month">این ماه</option>
                                            <option value="year">امسال</option>
                                        </select>
                                    </div>
                                    </br>
                                    </br>
                                    </br>
                                </div>
                                <div class="body">
                                    <div class="table-responsive">

                                        <div class="col-md-12">
                                            <div class="col-md-1" style="width: 35px;"> <img src="../static/css/images/marker-icon.png" width="22" height="30" /> </div>
                                            <b class="col-md-5">آخرین موقعیت مکانی ثبت شده</b>
                                            <div class="col-md-1" style="width: 35px;"> <img src="../static/css/images/blue.png" width="35" height="30" /> </div>
                                            <b class="col-md-5">موقعیت های مکانی ثبت شده</b>
                                        </div>
                                        <div id="user_all_locs_map" class="map"></div>
                            
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- #END# Basic Examples -->
                </div>

            </section>
            <!-- # Manager show user all locations -->

            <!-- Add user to karavan -->
            <section v-show="manager_panel == 'add-user-to-karavan'" class="content">
                <div class="container-fluid">
                    <div class="row clearfix">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                            <div class="card" style="padding-bottom: 40px;">

                                <div class="body">

                                    <h4>وارد کردن دستی اطلاعات</h4>
                                    </br>
                                    <div class="row clearfix" style="margin-bottom: 150px;">
                                        <div class="col-md-3">
                                            <div class="input-group input-group-lg">
                                                <span class="input-group-addon">
                                                    <i class="material-icons">person</i>
                                                </span>
                                                <div class="form-line">
                                                    <input v-model="fullname" type="text" class="form-control" placeholder="نام و نام خانوادگی">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="input-group input-group-lg">
                                                <span class="input-group-addon">
                                                    <i class="material-icons">account_circle</i>
                                                </span>
                                                <div class="form-line">
                                                    <input v-model="username" type="text" class="form-control" placeholder="نام کاربری">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="input-group input-group-lg">
                                                <span class="input-group-addon">
                                                    <i class="material-icons">password</i>
                                                </span>
                                                <div class="form-line">
                                                    <input v-model="password" type="password" class="form-control" placeholder="رمز عبور">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <button @click.prevent="sendUserInfoToAddToKaravan('input')" style="padding:5px 40px;" type="button" class="btn btn-success waves-effect">افزودن</button>
                                        </div>
                                    </div>

                                    <h4>بارگذاری فایل اکسل</h4>
                                    <div class="alert alert-warning">
                                        <strong>توجه! </strong>نام کاربری در ستون اول و نام و نام خانوادگی در ستون دوم و رمز‌ عبور در ستون سوم قرار گیرد
                                    </div>

                                    <div style="margin-bottom: 65px;">
                                        <span style="font-size: 18px;">فایل نمونه : </span>
                                        <a href="../static/sample/users_info_sample.csv" download><i class="material-icons">download</i></a>
                                    </div>

                                    <form action="">
                                        <input style="margin-top:20px; margin-bottom:20px;" type="file" accept=".csv" @change="handleExcelFile">
                                    </form>

                                    <div class="col-md-3" style="margin-right: -15px;">
                                        <button @click.prevent="sendUserInfoToAddToKaravan('file')" style="padding:5px 40px;" type="button" class="btn btn-success waves-effect">ارسال فایل</button>
                                    </div>

                                    <span v-if="show_res_upload_excel" style="font-size: 18px;">نتیجه ارسال فایل : 
                                        <a :href="res_upload_excel_href" download><i class="material-icons">download</i></a>
                                    </span>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- #END# Add user to karavan -->

        </div>
        <!-- #END# manager panel -->


    </div>

    

    <!-- leaflet -->
    <script src="../static/scripts/leaflet.js"  integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    
    <!-- Jquery Core Js -->
    <script src="../static/scripts/jquery.min.js"></script>
    
    <!-- Bootstrap Core Js -->
    <script src="../static/scripts/bootstrap.js"></script>
    
    <!-- Select Plugin Js -->
    <script src="../static/scripts/bootstrap-select.js"></script>
    
    <!-- Slimscroll Plugin Js -->
    <script src="../static/scripts/jquery.slimscroll.js"></script>

    <!-- Waves Effect Plugin Js -->
    <script src="../static/scripts/waves.js"></script>
    
    <!-- Main Jquery DataTable Plugin Js -->
    <script src="../static/scripts/jquery.dataTables.js"></script>
    
    <!-- Jquery CountTo Plugin Js -->
    <script src="../static/scripts/jquery.countTo.js"></script>
    
    <!-- Validation Plugin Js -->
    <script src="../static/scripts/jquery.validate.js"></script>
    
    <!-- Morris Plugin Js -->
    <script src="../static/scripts/raphael.min.js"></script>
    <script src="../static/scripts/morris.js"></script>
            
    <!-- Sparkline Chart Plugin Js -->
    <script src="../static/scripts/jquery.sparkline.js"></script>

    <!-- Light Gallery Plugin Js -->
    <script src="../static/scripts/lightgallery-all.js"></script>
    
    <!-- Custom Js -->
    <script src="../static/scripts/admin.js"></script>    
    <script src="../static/scripts/sign-in.js"></script>
    <script src="../static/scripts/sign-up.js"></script>
    
    <!-- Sweet Alert -->
    <script type="text/javascript" src="../static/scripts/sweetalert2.all.min.js"></script>
    
    <!-- Vue3 -->
    <script src="../static/scripts/vue.global.js"></script>
    
    <!-- Axios -->
    <script type="text/javascript" src="../static/scripts/axios.min.js"></script>
    
    <!-- My scripts -->
    <script type="text/javascript" src="../static/scripts/app.js"></script>


</body>




</html>